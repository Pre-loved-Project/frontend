import{j as s}from"./jsx-runtime-cC6fgHnL.js";import{r as a}from"./iframe-DyvK7mQz.js";import{I as g}from"./Input-Zcmcz8YP.js";import{B as j}from"./Button-DgdTZro8.js";import{u as z}from"./auth.store-cFZHPKal.js";import{a as A}from"./fetcher-KrZM-24b.js";import"./preload-helper-B4AOKawx.js";import"./cn-DWDuF9m2.js";import"./TextField-ChAP90Mc.js";import"./image-DeOQt9cS.js";import"./use-merged-ref-LCVf7ZYA.js";const f=({size:l="lg",onSuccess:h,onError:v,...C})=>{const[u,y]=a.useState(""),[c,S]=a.useState(""),[i,p]=a.useState(null),[m,d]=a.useState(null),{setAccessToken:E}=z(),x=async r=>{r.preventDefault(),console.log("로그인 요청 폼 제출");try{const e=await A("/auth/login",{method:"POST",body:JSON.stringify({email:u,password:c}),noAuth:!0});E(e.accessToken),h?.()}catch{v?.(`로그인에 실패하였습니다.
이메일과 비밀번호를 확인해주세요.`)}},w=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),b=r=>{const e=r.target.value;y(e),e!=null&&e!==""&&!w(e)?p("올바른 이메일 형식이 아닙니다."):p(null)},T=r=>{const e=r.target.value;S(e),e!=null&&e!==""&&e.length<8?d("비밀번호는 최소 8자 이상이어야 합니다."):d(null)};return s.jsxs("form",{onSubmit:x,className:"flex flex-col gap-6",children:[s.jsx(g,{size:l,label:"이메일",placeholder:"이메일을 입력해주세요",isError:!!i,errorMessage:i??"",onChange:b}),s.jsx(g,{size:l,label:"비밀번호",placeholder:"비밀번호를 입력해주세요",message:"최소 8자 이상",isHiddenable:!0,isError:!!m,errorMessage:m??"",onChange:T}),s.jsx(j,{variant:"primary",size:l,type:"submit",disabled:!u||i!==null||!c||m!==null,children:"로그인"})]})};f.__docgenInfo={description:"",methods:[],displayName:"LoginForm",props:{size:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}]},description:"",defaultValue:{value:'"lg"',computed:!1}},onSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(msg: string) => void",signature:{arguments:[{type:{name:"string"},name:"msg"}],return:{name:"void"}}},description:""}}};const k={title:"Auth/LoginForm",component:f,tags:["autodocs"],argTypes:{size:{control:{type:"radio"},options:["sm","md","lg"],description:"폼 전체 Input과 Button 크기를 조절합니다"}}},t={args:{size:"lg"}},o={args:{size:"sm"}},n={args:{size:"md"}};t.parameters={...t.parameters,docs:{...t.parameters?.docs,source:{originalSource:`{
  args: {
    size: "lg"
  }
}`,...t.parameters?.docs?.source}}};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:`{
  args: {
    size: "sm"
  }
}`,...o.parameters?.docs?.source}}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`{
  args: {
    size: "md"
  }
}`,...n.parameters?.docs?.source}}};const H=["Default","Small","Medium"];export{t as Default,n as Medium,o as Small,H as __namedExportsOrder,k as default};
