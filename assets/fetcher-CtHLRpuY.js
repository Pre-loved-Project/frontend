class o extends Error{constructor(t,r){super(t),this.status=r,this.name=new.target.name}}class i extends o{constructor(t="인증이 필요합니다."){super(t,401)}}class h extends o{constructor(t="요청한 리소스를 찾을 수 없습니다."){super(t,404)}}class p extends o{constructor(t="서버 오류가 발생했습니다.",r){super(t,r)}}async function w(e,t={}){const{noAuth:r,headers:c,...u}=t,s=await fetch(e,{headers:{"Content-Type":"application/json",...c},credentials:"include",cache:"no-store",...u});if(!s.ok){let a=`요청 실패 (${s.status})`;try{const n=await s.json();typeof n=="object"&&n?.message&&(a=n.message)}catch{}throw s.status===401&&!r?new i(`세션이 만료되었습니다.
다시 로그인 해주세요.`):s.status===404?new h:s.status>=500?new p(a,s.status):new o(a,s.status)}return s.json()}export{w as a};
