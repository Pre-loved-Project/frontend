class a extends Error{constructor(t,n){super(t),this.status=n,this.name=this.constructor.name}}class h extends a{constructor(t="인증이 필요합니다."){super(t,401)}}class d extends a{constructor(t="요청한 리소스를 찾을 수 없습니다."){super(t,404)}}class c extends a{constructor(t="서버 오류가 발생했습니다."){super(t,500)}}async function w(r,t={}){const{noAuth:n,headers:i,...u}=t,s=await fetch(r,{headers:{"Content-Type":"application/json",...i},credentials:"include",cache:"no-store",...u});if(s.status===401&&!n)throw new h(`세션이 만료되었습니다.
다시 로그인 해주세요.`);if(!s.ok){if(s.status===404)throw new d;if(s.status>=500)throw new c;let o=`API Error ${s.status}`;try{const e=await s.json();o=e.message??e.detail??o}catch{const e=await s.text();e&&(o=e)}throw new c(o)}return s.json()}export{w as a};
